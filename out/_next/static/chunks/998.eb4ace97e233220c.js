"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{7998:function(e,n,t){t.r(n);var r=t(7568),s=t(655),a=t(5893),o=t(7294),c=t(8562),i=t(8456),l=t(1931),u=t(1668),d=t(8969),h=t(2980),m=t(9692),p=t(7978),b=function(){var e="https://shibuya.subscan.io/account/",n=(0,o.useState)(0),b=n[0],f=n[1],g=(0,o.useState)(""),w=g[0],x=g[1],v=(0,o.useState)(""),S=v[0],j=v[1],k=(0,o.useState)("");k[0],k[1];var y=(0,o.useState)(""),N=y[0],E=y[1],$=(0,o.useState)([]),C=$[0],_=$[1],P=(0,o.useState)(""),A=P[0],B=P[1],I=(0,o.useState)(),L=I[0],U=I[1],F=(0,o.useState)(""),R=F[0],M=F[1],Y=(0,o.useState)(""),Z=Y[0],W=Y[1],z=(0,o.useState)(""),O=z[0],T=z[1],q=(0,o.useState)(""),D=q[0];q[1];var G=(0,o.useState)(""),H=G[0],K=G[1],X=(0,o.useState)(""),J=X[0];X[1];var Q=(0,o.useState)(""),V=Q[0];Q[1];var ee=(0,o.useState)(""),en=ee[0];ee[1];var et=(0,o.useState)(""),er=et[0];et[1];var es,ea=(0,o.useState)(e),eo=ea[0],ec=ea[1],ei=(0,o.useState)(""),el=ei[0],eu=ei[1],ed=(es=(0,r.Z)(function(){var e,n,r,a,o;return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(!S||!b)return alert("Please select Blockchain and click 'Set Blockchain' button."),[2];return[4,t.e(225).then(t.bind(t,9225))];case 1:return n=(e=r.sent()).web3Accounts,[4,(0,e.web3Enable)("Showcase PSP34 Mint Sample")];case 2:if(0===r.sent().length)return[2];return[4,n()];case 3:return _(r.sent()),[2]}})}),function(){return es.apply(this,arguments)});function eh(){return(eh=(0,r.Z)(function(){var n,t,r,a,o;return(0,s.__generator)(this,function(s){switch(s.label){case 0:if(!S||!b||!(null===(n=C[0])||void 0===n?void 0:n.address))return alert("Please select Blockchain and click 'Set Blockchain' button and click 'Set Account' button."),[2];return t=3e11,r=new l.vM(L,u,R),[4,(0,p.$y)("Showcase PSP34 Mint Sample")];case 1:return s.sent(),console.log(C),[4,r.tx.mint({gasLimit:t},{u64:Z})];case 2:return a=s.sent(),[4,(0,p.R0)(C[0].meta.source)];case 3:return o=s.sent(),T(Z),a.signAndSend(C[0].address,{signer:o.signer},function(e){var n=e.status;n.isInBlock?(console.log("Completed at block hash #".concat(n.asInBlock.toString())),K("Completed at block hash #"+n.asInBlock.toString())):n.isFinalized?(console.log("finalized"),K("finalized")):(console.log("Current status: ".concat(n.type)),K("Current status: "+n.type.toString()))}).catch(function(e){console.log(":( transaction failed",e),K(":( transaction failed: "+e.toString())}),ec(e+R),"wss://shiden.api.onfinality.io/public-ws"==S?eu("Show on Subscan (Shiden)"):"wss://rpc.shibuya.astar.network"==S?eu("Show on Subscan (Shibuya)"):eu(""),[2]}})})).apply(this,arguments)}(0,o.useEffect)(function(){});var em,ep=(em=(0,r.Z)(function(){var e,n;return(0,s.__generator)(this,function(t){switch(t.label){case 0:if(!S)return[2];return e=new c.U(S),[4,i.G.create({provider:e})];case 1:return[4,(n=t.sent()).rpc.chain.subscribeNewHeads(function(e){f(e.number.toNumber()),x(e.hash.toString())})];case 2:return t.sent(),U(n),E(S),[2]}})}),function(){return em.apply(this,arguments)});return(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.Z,{}),(0,a.jsxs)("div",{className:"p-3 mt-2 m-auto border-1 w-11/12 border border-gray-500 rounded",children:[(0,a.jsx)("div",{className:"p-2 mb-0 text-xl",children:"Select blockchain"}),(0,a.jsx)("button",{className:"bg-green-900 hover:bg-green-800 text-white rounded px-4 py-2",onClick:ep,children:"Set Blockchain"}),(0,a.jsxs)("select",{className:"p-3 m-3 mt-0 border-2 border-green-500 rounded",onChange:function(e){console.log(e),j(e.target.value)},children:[(0,a.jsx)("option",{value:"",children:"-- select --"},"None"),(0,a.jsx)("option",{value:"wss://shiden.api.onfinality.io/public-ws",children:"Shiden"},"Shiden"),(0,a.jsx)("option",{value:"wss://rpc.shibuya.astar.network",children:"Shibuya"},"Shibuya"),(0,a.jsx)("option",{value:"ws://127.0.0.1:9944",children:"Local"},"Local"),(0,a.jsx)("option",{value:"wss://astar-collator.cielo.works:11443",children:"Custom"},"Custom")]}),(0,a.jsxs)("div",{className:"p-2 m-2",children:["Current Blockchain URL: ",N||"---"]}),(0,a.jsxs)("div",{className:"p-1 m-1",children:["Block: ",b||"---"]}),(0,a.jsxs)("div",{className:"p-1 m-auto w-11/12 break-all",children:["Last block hash: ",w||"---"]})]}),(0,a.jsxs)("div",{className:"text-center mt-4",children:[(0,a.jsx)("button",{className:"bg-green-900 hover:bg-green-800 text-white rounded px-4 py-2",onClick:ed,children:"Set Account"}),(0,a.jsx)("select",{className:"p-3 m-3 border-2 border-green-500 rounded",onChange:function(e){console.log(e),B(e.target.value)},children:C.map(function(e){return(0,a.jsxs)("option",{value:e.address,children:["[",e.meta.name,"]"]},e.address)})})]}),(0,a.jsxs)("div",{className:"text-center mt-3",children:[(0,a.jsx)("button",{disabled:!R,className:"bg-green-900 hover:bg-green-800 text-white rounded px-4 py-2",onClick:function(){return eh.apply(this,arguments)},children:R?"Mint NFT":"Enter ContractAddress"}),(0,a.jsx)("input",{className:"p-2 m-2 border-2 w-64 rounded",onChange:function(e){return M(e.target.value)},placeholder:"ContractAddress"}),(0,a.jsx)("input",{className:"p-2 m-2 border-2 w-20 rounded",onChange:function(e){return W(e.target.value)},placeholder:"TokenID"})]}),(0,a.jsx)("div",{className:"text-center",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{className:"p-2 m-auto w-64",src:en}),(0,a.jsx)("p",{className:"p-1 m-1 text-xl",children:er}),(0,a.jsx)("p",{className:R?"m-1":"hidden",children:(0,a.jsx)("a",{target:"_blank",rel:"noreferrer",href:eo,children:el})})]})}),(0,a.jsxs)("div",{className:"text-left p-2 mt-5 m-auto border-1 w-11/12 border border-gray-500 rounded",children:[(0,a.jsxs)("p",{className:"p-1 m-1 break-all",children:["Status: ",H]}),(0,a.jsxs)("div",{className:"hidden p-3 m-3",children:["TokenURI: ",O]}),(0,a.jsxs)("p",{className:"p-1 m-1 hidden",children:["Result: ",D]}),(0,a.jsxs)("p",{className:"p-1 m-1 break-all",children:["MetadataUri: ",J]}),(0,a.jsxs)("p",{className:"p-1 m-1 break-all",children:["ImageUri: ",V]}),(0,a.jsxs)("p",{className:"p-1 m-1",children:["TokenId: ",Z]}),(0,a.jsxs)("p",{className:"p-1 m-1 break-all",children:["actingAddress: ",A]})]}),(0,a.jsx)(m.Z,{}),(0,a.jsx)(h.Z,{})]})};n.default=b},7978:function(e,n,t){t.d(n,{LW:function(){return v},bI:function(){return o},X6:function(){return p},vK:function(){return k},Fm:function(){return y},$y:function(){return j},$R:function(){return S},q$:function(){return E},R0:function(){return N},u4:function(){return $},s0:function(){return C},sy:function(){return b}});var r=t(5442),s=t(9495),a=t(9048);let o={name:"@polkadot/extension-dapp",path:new URL("file:///home/cielo/frontend/psp34_frontend_sample/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.substring(0,new URL("file:///home/cielo/frontend/psp34_frontend_sample/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.lastIndexOf("/")+1),type:"esm",version:"0.44.6"};var c=t(3836),i=t(5716);let l=(0,i.Y)("\x19Ethereum Signed Message:\n"),u=(0,i.Y)("<Bytes>"),d=(0,i.Y)("</Bytes>"),h=u.length+d.length;function m(e,n){return e.length>=h&&(0,r.S)(e.subarray(0,u.length),u)&&(0,r.S)(e.slice(-d.length),d)||n&&e.length>=l.length&&(0,r.S)(e.subarray(0,l.length),l)}let p=function(e){let n=(0,i.Y)(e);return m(n,!1)?n.subarray(u.length,n.length-d.length):n},b=function(e){let n=(0,i.Y)(e);return m(n,!0)?n:(0,c.d)([u,n,d])},f=window;function g(){return 0!==Object.keys(f.injectedWeb3).length}function w(e){throw Error(`${e}: web3Enable(originName) needs to be called before ${e}`)}function x(e,n,t){return n.map(({address:n,genesisHash:r,name:o,type:c})=>({address:42===n.length?n:(0,s.m)((0,a.m)(n),t),meta:{genesisHash:r,name:o,source:e},type:c}))}f.injectedWeb3=f.injectedWeb3||{};let v=g(),S=null;function j(e,n=[]){var t;if(!e)throw Error("You must pass a name for your app to the web3Enable function");let r=n.length?Promise.all(n.map(e=>e().catch(()=>!1))):Promise.resolve([!0]);return t=()=>r.then(()=>{var n;return Promise.all(Object.entries(f.injectedWeb3).map(([n,{enable:t,version:r}])=>Promise.all([Promise.resolve({name:n,version:r}),t(e).catch(e=>{console.error(`Error initializing ${n}: ${e.message}`)})]))).then(e=>e.filter(e=>!!e[1]).map(([e,n])=>(n.accounts.subscribe||(n.accounts.subscribe=e=>(n.accounts.get().then(e).catch(console.error),()=>{})),{...e,...n}))).catch(()=>[]).then(e=>{let n=e.map(({name:e,version:n})=>`${e}/${n}`);return v=g(),console.log(`web3Enable: Enabled ${e.length} extension${1!==e.length?"s":""}: ${n.join(", ")}`),e})}),S=new Promise(e=>{"complete"===document.readyState?e(t()):window.addEventListener("load",()=>e(t()))})}async function k({accountType:e,extensions:n,ss58Format:t}={}){if(!S)return w("web3Accounts");let r=[],s=await S,a=await Promise.all(s.filter(({name:e})=>!n||n.includes(e)).map(async({accounts:n,name:r})=>{try{let s=await n.get();return x(r,s.filter(({type:n})=>!n||!e||e.includes(n)),t)}catch(a){return[]}}));a.forEach(e=>{r.push(...e)});let o=r.map(({address:e})=>e);return console.log(`web3Accounts: Found ${r.length} address${1!==r.length?"es":""}: ${o.join(", ")}`),r}async function y(e,{extensions:n,ss58Format:t}={}){if(!S)return w("web3AccountsSubscribe");let r={},s=()=>e(Object.entries(r).reduce((e,[n,r])=>(e.push(...x(n,r,t)),e),[])),a=(await S).filter(({name:e})=>!n||n.includes(e)).map(({accounts:{subscribe:e},name:n})=>e(e=>{r[n]=e;try{var t;null===(t=s())||void 0===t||t.catch(console.error)}catch(a){console.error(a)}}));return()=>{a.forEach(e=>{e()})}}async function N(e){if(!S)return w("web3FromSource");let n=await S,t=e&&n.find(({name:n})=>n===e);if(!t)throw Error(`web3FromSource: Unable to find an injected ${e}`);return t}async function E(e){if(!S)return w("web3FromAddress");let n=await k(),t;if(e){let s=(0,a.m)(e);t=n.find(e=>(0,r.S)((0,a.m)(e.address),s))}if(!t)throw Error(`web3FromAddress: Unable to find injected ${e}`);return N(t.meta.source)}async function $(e){let{provider:n}=await N(e);return n?n.listProviders():(console.warn(`Extension ${e} does not expose any provider`),null)}async function C(e,n){let{provider:t}=await N(e);if(!t)throw Error(`Extension ${e} does not expose any provider`);let r=await t.startProvider(n);return{meta:r,provider:t}}}}]);