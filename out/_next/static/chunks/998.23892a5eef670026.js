"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{3821:function(e,n,t){t.r(n);var r=t(7568),a=t(655),s=t(5893),o=t(7294),c=t(8562),l=t(8456),i=t(1931),u=t(1668),d=t(8969),h=t(2980),m=t(7998),b=t(7978),p=function(){var e={blockchain:[{name:"Shiden",url:"wss://shiden.api.onfinality.io/public-ws",subscan_url:"https://shiden.subscan.io/account/"},{name:"Shibuya",url:"wss://rpc.shibuya.astar.network",subscan_url:"https://shibuya.subscan.io/account/"},{name:"Local",url:"ws://127.0.0.1:9944"},{name:"Custom",url:"wss://astar-collator.cielo.works:11443"},]},n=(0,o.useState)(0),p=n[0],f=n[1],g=(0,o.useState)(""),x=g[0],w=g[1],v=(0,o.useState)(""),S=v[0],j=v[1],k=(0,o.useState)(""),y=k[0],N=k[1],E=(0,o.useState)(""),C=E[0],$=E[1],_=(0,o.useState)(""),P=_[0],A=_[1],B=(0,o.useState)([]),I=B[0],L=B[1],U=(0,o.useState)(""),F=U[0],R=U[1],M=(0,o.useState)(),Y=M[0],Z=M[1],O=(0,o.useState)(""),W=O[0],z=O[1],T=(0,o.useState)(""),q=T[0],D=T[1],G=(0,o.useState)(""),H=G[0],K=G[1],X=(0,o.useState)(""),J=X[0];X[1];var Q=(0,o.useState)(""),V=Q[0];Q[1];var ee=(0,o.useState)(""),en=ee[0],et=ee[1],er=(0,o.useState)(""),ea=er[0];er[1];var es=(0,o.useState)(""),eo=es[0];es[1];var ec=(0,o.useState)(""),el=ec[0];ec[1];var ei=(0,o.useState)(""),eu=ei[0];ei[1];var ed=(0,o.useState)(""),eh=ed[0];ed[1];var em,eb=(0,o.useState)(""),ep=eb[0],ef=eb[1],eg=(0,o.useState)(""),ex=eg[0],ew=eg[1],ev=(em=(0,r.Z)(function(){var e,n,r,s,o;return(0,a.__generator)(this,function(r){switch(r.label){case 0:if(!S||!p)return alert("Please select Blockchain and click 'Set Blockchain' button."),[2];return[4,t.e(225).then(t.bind(t,9225))];case 1:return n=(e=r.sent()).web3Accounts,[4,(0,e.web3Enable)("Showcase PSP34 Mint Sample")];case 2:if(0===r.sent().length)return[2];return[4,n()];case 3:return L(r.sent()),[2]}})}),function(){return em.apply(this,arguments)});function eS(){return(eS=(0,r.Z)(function(){var n,t,r,s,o,c,l,d,h;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(!S||!p||!(null===(n=I[0])||void 0===n?void 0:n.address))return alert("Please select Blockchain and click 'Set Blockchain' button and click 'Set Account' button."),[2];return t=3e10,r=new i.vM(Y,u,W),[4,(0,b.$y)("Showcase PSP34 Mint Sample")];case 1:return a.sent(),console.log(I),[4,r.tx.mint({gasLimit:t},{u64:q})];case 2:return s=a.sent(),[4,(0,b.R0)(I[0].meta.source)];case 3:return o=a.sent(),K(q),s.signAndSend(I[0].address,{signer:o.signer},function(e){var n=e.status;n.isInBlock?(console.log("Completed at block hash #".concat(n.asInBlock.toString())),et("Completed at block hash #"+n.asInBlock.toString())):n.isFinalized?(console.log("finalized"),et("finalized")):(console.log("Current status: ".concat(n.type)),et("Current status: "+n.type.toString()))}).catch(function(e){console.log(":( transaction failed",e),et(":( transaction failed: "+e.toString())}),"Shiden"===C||"Shibuya"===C?(ef((null===(c=e.blockchain.filter(function(e){return e.name===C})[0])||void 0===c?void 0:c.subscan_url)+W),ew("Show on Subscan ("+C+")")):ew(""),[2]}})})).apply(this,arguments)}(0,o.useEffect)(function(){});var ej,ek=(ej=(0,r.Z)(function(){var n,t,r,s,o,i;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(s=null===(n=(r=e.blockchain.filter(function(e){return e.name===y}))[0])||void 0===n?void 0:n.url,j(null===(t=r[0])||void 0===t?void 0:t.url),!S)return[2];return o=new c.U(s),[4,l.G.create({provider:o})];case 1:return[4,(i=a.sent()).rpc.chain.subscribeNewHeads(function(e){Z(i),$(y),f(e.number.toNumber()),w(e.hash.toString()),A(s),console.log(i.hasSubscriptions)})];case 2:return a.sent(),[2]}})}),function(){return ej.apply(this,arguments)});return(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(d.Z,{}),(0,s.jsxs)("div",{className:"p-3 mt-2 m-auto max-w-6xl w-11/12 border-[#323943] bg-[#121923] border border-1 rounded",children:[(0,s.jsx)("div",{className:"mb-5 text-xl",children:"Select blockchain"}),(0,s.jsx)("button",{className:"bg-[#184e9b] hover:bg-[#1964cf] hover:duration-500 text-white rounded px-4 py-2",onClick:ek,children:"Set Blockchain"}),(0,s.jsxs)("select",{className:"p-3 m-3 mt-0 bg-[#020913] border-2 border-gray-300 rounded",onChange:function(e){console.log(e.target.value),N(e.target.value)},children:[(0,s.jsx)("option",{value:"None",children:"-- select --"}),(0,s.jsx)("option",{value:"Shiden",children:"Shiden"}),(0,s.jsx)("option",{value:"Shibuya",children:"Shibuya"}),(0,s.jsx)("option",{value:"Local",children:"Local"}),(0,s.jsx)("option",{value:"Custom",children:"Custom"})]}),(0,s.jsxs)("div",{className:"p-2 m-2 mt-0",children:["Current Blockchain Name: ",C||"---"]}),(0,s.jsxs)("div",{className:"p-2 m-2 mt-0",children:["Current Blockchain URL: ",P||"---"]}),(0,s.jsxs)("div",{className:"p-1 m-1",children:["Block: ",p||"---"]}),(0,s.jsxs)("div",{className:"p-1 m-auto w-11/12 break-all",children:["Last block hash: ",x||"---"]})]}),(0,s.jsxs)("div",{className:"text-center p-2 pt-0 mt-5 m-auto max-w-6xl w-11/12 border-[#323943] bg-[#121923] border border-1 rounded",children:[(0,s.jsx)("button",{className:"bg-[#184e9b] hover:bg-[#1964cf] hover:duration-500 disabled:bg-stone-700 text-white rounded px-4 py-2",onClick:ev,children:"Set Account"}),(0,s.jsx)("select",{className:"p-3 m-3 bg-[#020913] border-2 border-gray-300 rounded",onChange:function(e){console.log(e),R(e.target.value)},children:I.map(function(e){return(0,s.jsxs)("option",{value:e.address,children:["[",e.meta.name,"]"]},e.address)})})]}),(0,s.jsxs)("div",{className:"text-center p-2 pt-0 mt-5 m-auto max-w-6xl w-11/12 border-[#323943] bg-[#121923] border border-1 rounded",children:[(0,s.jsx)("button",{disabled:!W,className:"bg-[#184e9b] hover:bg-[#1964cf] hover:duration-500 disabled:bg-stone-700 text-white rounded px-4 py-2",onClick:function(){return eS.apply(this,arguments)},children:W?"Mint NFT":"Enter ContractAddress"}),(0,s.jsx)("input",{className:"p-2 m-2 bg-[#020913] border-2 border-gray-300 rounded",onChange:function(e){return z(e.target.value)},placeholder:"ContractAddress"}),(0,s.jsx)("input",{className:"p-2 m-2 bg-[#020913] border-2 w-20 rounded",onChange:function(e){return D(e.target.value)},placeholder:"TokenID"})]}),(0,s.jsx)("div",{className:"text-center p-2 mt-5 m-auto max-w-6xl w-11/12 border-[#323943] bg-[#121923] border border-1 rounded",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{className:"p-2 m-auto w-64",src:el}),(0,s.jsx)("p",{className:"p-1 m-1 text-xl break-words",children:eu}),(0,s.jsx)("p",{className:"p-1 m-1 break-words",children:eh}),(0,s.jsx)("p",{className:W?"m-1 break-all":"hidden",children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:ep,children:ex})})]})}),(0,s.jsxs)("div",{className:"text-left p-2 mt-5 m-auto max-w-6xl w-11/12 border-[#323943] bg-[#121923] border border-1 rounded",children:[(0,s.jsxs)("p",{className:"p-1 m-1 break-all",children:["Status: ",en]}),(0,s.jsxs)("div",{className:"hidden p-3 m-3",children:["TokenURI: ",H]}),(0,s.jsxs)("p",{className:"p-1 m-1 hidden",children:["Result: ",V]}),(0,s.jsxs)("p",{className:"p-1 m-1 break-all",children:["MetadataUri: ",ea]}),(0,s.jsxs)("p",{className:"p-1 m-1 break-all",children:["ImageUri: ",eo]}),(0,s.jsxs)("p",{className:"p-1 m-1",children:["TokenId: ",q]}),(0,s.jsxs)("p",{className:"p-1 m-1 break-all",children:["actingAddress: ",F]}),(0,s.jsxs)("p",{className:"p-1 m-1 break-all",children:["OwnerAddress: ",J]})]}),(0,s.jsx)(m.Z,{}),(0,s.jsx)(h.Z,{})]})};n.default=p},7978:function(e,n,t){t.d(n,{LW:function(){return v},bI:function(){return o},X6:function(){return b},vK:function(){return k},Fm:function(){return y},$y:function(){return j},$R:function(){return S},q$:function(){return E},R0:function(){return N},u4:function(){return C},s0:function(){return $},sy:function(){return p}});var r=t(5442),a=t(9495),s=t(9048);let o={name:"@polkadot/extension-dapp",path:new URL("file:///home/cielo/frontend/psp34_frontend_sample/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.substring(0,new URL("file:///home/cielo/frontend/psp34_frontend_sample/node_modules/@polkadot/extension-dapp/packageInfo.js").pathname.lastIndexOf("/")+1),type:"esm",version:"0.44.6"};var c=t(3836),l=t(5716);let i=(0,l.Y)("\x19Ethereum Signed Message:\n"),u=(0,l.Y)("<Bytes>"),d=(0,l.Y)("</Bytes>"),h=u.length+d.length;function m(e,n){return e.length>=h&&(0,r.S)(e.subarray(0,u.length),u)&&(0,r.S)(e.slice(-d.length),d)||n&&e.length>=i.length&&(0,r.S)(e.subarray(0,i.length),i)}let b=function(e){let n=(0,l.Y)(e);return m(n,!1)?n.subarray(u.length,n.length-d.length):n},p=function(e){let n=(0,l.Y)(e);return m(n,!0)?n:(0,c.d)([u,n,d])},f=window;function g(){return 0!==Object.keys(f.injectedWeb3).length}function x(e){throw Error(`${e}: web3Enable(originName) needs to be called before ${e}`)}function w(e,n,t){return n.map(({address:n,genesisHash:r,name:o,type:c})=>({address:42===n.length?n:(0,a.m)((0,s.m)(n),t),meta:{genesisHash:r,name:o,source:e},type:c}))}f.injectedWeb3=f.injectedWeb3||{};let v=g(),S=null;function j(e,n=[]){var t;if(!e)throw Error("You must pass a name for your app to the web3Enable function");let r=n.length?Promise.all(n.map(e=>e().catch(()=>!1))):Promise.resolve([!0]);return t=()=>r.then(()=>{var n;return Promise.all(Object.entries(f.injectedWeb3).map(([n,{enable:t,version:r}])=>Promise.all([Promise.resolve({name:n,version:r}),t(e).catch(e=>{console.error(`Error initializing ${n}: ${e.message}`)})]))).then(e=>e.filter(e=>!!e[1]).map(([e,n])=>(n.accounts.subscribe||(n.accounts.subscribe=e=>(n.accounts.get().then(e).catch(console.error),()=>{})),{...e,...n}))).catch(()=>[]).then(e=>{let n=e.map(({name:e,version:n})=>`${e}/${n}`);return v=g(),console.log(`web3Enable: Enabled ${e.length} extension${1!==e.length?"s":""}: ${n.join(", ")}`),e})}),S=new Promise(e=>{"complete"===document.readyState?e(t()):window.addEventListener("load",()=>e(t()))})}async function k({accountType:e,extensions:n,ss58Format:t}={}){if(!S)return x("web3Accounts");let r=[],a=await S,s=await Promise.all(a.filter(({name:e})=>!n||n.includes(e)).map(async({accounts:n,name:r})=>{try{let a=await n.get();return w(r,a.filter(({type:n})=>!n||!e||e.includes(n)),t)}catch(s){return[]}}));s.forEach(e=>{r.push(...e)});let o=r.map(({address:e})=>e);return console.log(`web3Accounts: Found ${r.length} address${1!==r.length?"es":""}: ${o.join(", ")}`),r}async function y(e,{extensions:n,ss58Format:t}={}){if(!S)return x("web3AccountsSubscribe");let r={},a=()=>e(Object.entries(r).reduce((e,[n,r])=>(e.push(...w(n,r,t)),e),[])),s=(await S).filter(({name:e})=>!n||n.includes(e)).map(({accounts:{subscribe:e},name:n})=>e(e=>{r[n]=e;try{var t;null===(t=a())||void 0===t||t.catch(console.error)}catch(s){console.error(s)}}));return()=>{s.forEach(e=>{e()})}}async function N(e){if(!S)return x("web3FromSource");let n=await S,t=e&&n.find(({name:n})=>n===e);if(!t)throw Error(`web3FromSource: Unable to find an injected ${e}`);return t}async function E(e){if(!S)return x("web3FromAddress");let n=await k(),t;if(e){let a=(0,s.m)(e);t=n.find(e=>(0,r.S)((0,s.m)(e.address),a))}if(!t)throw Error(`web3FromAddress: Unable to find injected ${e}`);return N(t.meta.source)}async function C(e){let{provider:n}=await N(e);return n?n.listProviders():(console.warn(`Extension ${e} does not expose any provider`),null)}async function $(e,n){let{provider:t}=await N(e);if(!t)throw Error(`Extension ${e} does not expose any provider`);let r=await t.startProvider(n);return{meta:r,provider:t}}}}]);